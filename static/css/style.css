/* ==========================================================================
   UNIVERSAL: Custom Properties
   ========================================================================== */

   /* Color Palettes
      ========================================================================== */

   :root {
      /* Accent color palette */
      --color-accent-000: #FAFBFC;
      --color-accent-100: #F0F6FC;
      --color-accent-200: #DEE6EE;
      --color-accent-300: #A9C1D9;
      --color-accent-400: #85A8CC;
      --color-accent-500: #3F709E;
      --color-accent-600: #3F709E;
      --color-accent-700: #296094;
      --color-accent-800: #114D84;
      --color-accent-900: #1B2843;
      /* Neutral color palette */
      --color-neutral-100: #F5F7FA; /* "White" */
      --color-neutral-200: #DADDE0;
      --color-neutral-300: #D2D5D9;
      --color-neutral-400: #B3B8BD;
      --color-neutral-500: #81868A;
      --color-neutral-600: #5B5F63;
      --color-neutral-700: #414447;
      --color-neutral-800: #2E3133;
      --color-neutral-900: #1C1D1F; /* "Black" */
   
      /* Specific implementations */
      --color-body-bg: var(--color-accent-000);
      --color-body-text: var(--color-neutral-900);
      --color-link: var(--color-accent-700);
      --color-link-hover: var(--color-accent-900);
      --color-bannernav-logotype: var(--color-neutral-900);
      --color-bannernav-link: var(--color-accent-800);
      --color-bannernav-link-hover: var(--color-neutral-900);
      --color-bannernav-link-active: var(--color-neutral-900);
      --color-bannernav-link-underline: var(--color-accent-300);
      --color-bannernav-link-underline-active: var(--color-accent-800);
      --color-button-text: var(--color-accent-000);
      --color-button-border: var(--color-accent-800);
      --color-button-bg: var(--color-accent-800);
      --color-button-hover-text: var(--color-accent-800);
      --color-button-hover-border: var(--color-accent-800);
      --color-button-hover-bg: var(--color-accent-000);
      --color-titles-text: var(--color-neutral-900);
      --color-titles-stripe: var(--color-accent-200);
      --color-titles-article-text: var(--color-accent-800);
      --color-article-metadata: var(--color-neutral-500);
      --color-article-deck: var(--color-neutral-600);
      --color-tag-text: var(--color-accent-800);
      --color-tag-bg: var(--color-accent-200);
      --color-textdecoration: var(--color-accent-200);
   }
   
   /* Type
      ========================================================================== */
   
   /* @link https://utopia.fyi/type/calculator?c=320,18,1.2,1240,22,1.333,6,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
   
   :root {
      /* Font families */
      --font-family-body: "Noto Sans", sans-serif;
      --font-family-headers: "Merriweather", serif;
      --font-family-nav: "Noto Sans", sans-serif;
      --font-family-logotype: "Merriweather", serif;
   
      /* Step -2: 12.50px → 12.38px */
      --step--2: clamp(0.77rem, calc(0.78rem + -0.01vw), 0.78rem);
   
      /* Step -1: 15.00px → 16.50px */
      --step--1: clamp(0.94rem, calc(0.90rem + 0.16vw), 1.03rem);
   
      /* Step 0: 18.00px → 22.00px */
      --step-0: clamp(1.13rem, calc(1.04rem + 0.43vw), 1.38rem);
   
      /* Step 1: 21.60px → 29.33px */
      --step-1: clamp(1.35rem, calc(1.18rem + 0.84vw), 1.83rem);
   
      /* Step 2: 25.92px → 39.09px */
      --step-2: clamp(1.62rem, calc(1.33rem + 1.43vw), 2.44rem);
   
      /* Step 3: 31.10px → 52.11px */
      --step-3: clamp(1.94rem, calc(1.49rem + 2.28vw), 3.26rem);
   
      /* Step 4: 37.32px → 69.46px */
      --step-4: clamp(2.33rem, calc(1.63rem + 3.49vw), 4.34rem);
   
      /* Step 5: 44.79px → 92.59px */
      --step-5: clamp(2.80rem, calc(1.76rem + 5.20vw), 5.79rem);
   
      /* Step 6: 53.75px → 123.43px */
      --step-6: clamp(3.36rem, calc(1.84rem + 7.57vw), 7.71rem);
   }
      
   /* Space & Grid
      ========================================================================== */
   
   /* @link https://utopia.fyi/space/calculator?c=320,18,1.2,1240,22,1.333,6,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
   
   :root {
      /* Fluid spaces (in "T-shirt sizes") */
      --space-3xs: clamp(0.31rem, calc(0.29rem + 0.11vw), 0.38rem);
      --space-2xs: clamp(0.56rem, calc(0.52rem + 0.22vw), 0.69rem);
      --space-xs: clamp(0.88rem, calc(0.81rem + 0.33vw), 1.06rem);
      --space-s: clamp(1.13rem, calc(1.04rem + 0.43vw), 1.38rem);
      --space-m: clamp(1.69rem, calc(1.56rem + 0.65vw), 2.06rem);
      --space-l: clamp(2.25rem, calc(2.08rem + 0.87vw), 2.75rem);
      --space-xl: clamp(3.38rem, calc(3.11rem + 1.30vw), 4.13rem);
      --space-2xl: clamp(4.50rem, calc(4.15rem + 1.74vw), 5.50rem);
      --space-3xl: clamp(6.75rem, calc(6.23rem + 2.61vw), 8.25rem);
      
      /* One-up pairs */
      --space-3xs-2xs: clamp(0.31rem, calc(0.18rem + 0.65vw), 0.69rem);
      --space-2xs-xs: clamp(0.56rem, calc(0.39rem + 0.87vw), 1.06rem);
      --space-xs-s: clamp(0.88rem, calc(0.70rem + 0.87vw), 1.38rem);
      --space-s-m: clamp(1.13rem, calc(0.80rem + 1.63vw), 2.06rem);
      --space-m-l: clamp(1.69rem, calc(1.32rem + 1.85vw), 2.75rem);
      --space-l-xl: clamp(2.25rem, calc(1.60rem + 3.26vw), 4.13rem);
      --space-xl-2xl: clamp(3.38rem, calc(2.64rem + 3.70vw), 5.50rem);
      --space-2xl-3xl: clamp(4.50rem, calc(3.20rem + 6.52vw), 8.25rem);
      
      /* Custom pairs */
      --space-s-l: clamp(1.13rem, calc(0.56rem + 2.83vw), 2.75rem);
   
      /* Grid */
      /* @link https://utopia.fyi/grid/calculator?c=330,18,1.2,1364,22,1.333,6,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
      --grid-max-width: 85.25rem;
      --grid-gutter: var(--space-s-l, clamp(1.13rem, calc(0.61rem + 2.51vw), 2.75rem));
      --grid-columns: 12;
   }
   
   /* Space & Grid
      ========================================================================== */
   
   /* Unfortunately, the 'ch' unit causes large headers to spill over into the
      margins, so we have to use the rem value instead to keep things consistent. */

   :root {
      /*--measure: 60ch;*/
      --measure: 35rem;
      /*--measure-wide: 80ch;*/
      --measure-wide: 38rem;
      --measure-widest: 50rem;
   }
   
/* ==========================================================================
   UNIVERSAL: Inherited Properties
   ========================================================================== */
   
   /* Critical font information
      ========================================================================== */
   
   :root {
      font-family: var(--font-family-body);
      font-size: var(--step-0);
      line-height: 1.5;
   }

   /* Body properties
      ========================================================================== */

   body {
      /* Display */
      margin-bottom: var(--space-3xl);
      padding: 0 var(--space-s);
      /* Color */
      background-color: var(--color-body-bg);
      color: var(--color-body-text);
      /* Other */
      text-rendering: optimizeSpeed;
   }
   
   /* Measure
      ========================================================================== */
   
   * {
      max-inline-size: var(--measure);
   }
   
   html,
   body,
   div,
   header,
   nav,
   section,
   article,
   main,
   footer {
      max-inline-size: none;
   }
   
   /* Main
      ========================================================================== */
   
   main {
      margin-top: var(--space-xl);
   }
   
   /* Block-level Elements and Vertical Rhythm
      ========================================================================== */
   
   h1,
   h2,
   h3 {
     font-family: var(--font-family-headers);
     font-weight: 800;
     line-height: 1.1;
     max-inline-size: var(--measure);
     text-wrap: balance;
   }

   h1 {
      font-size: var(--step-4);
      color: var(--color-accent-800);
   }
   
   h2 {
      font-size: var(--step-3);
      color: var(--color-accent-700);
   }
   
   h3 {
      font-size: var(--step-2);
      color: var(--color-accent-600);
   }

   :is(h1, h2, h3, blockquote) {
      --space: 1.5em;
   }
      
   :is(h1, h2, h3) + * {
      --space: 0.5em;
   }
   
   main ul,
   main ol {
     padding-inline-start: 1em;
     list-style-type: disc;
   }
   
   main li,
   main li {
      margin: 0 !important;
   }
   
   blockquote {
      padding-inline-start: 1em;
      border-inline-start: 0.3em solid;
      font-style: italic;
   }

      .figure__caption {
         font-size: var(--step--2);
      }
   
   /* Inline Styles
   ========================================================================== */
   
   a {
      color: var(--color-accent-700);
      text-underline-offset: 0.3ex;
   }
   
   strong {
      font-weight: 700;
   }
   
   em {
      font-style: italic;
   }
   
   small, sub, sup { font-size: var(--step--2); }
   sub             { vertical-align: sub }
   sup             { vertical-align: super }
   sub a,
   sup a {
      text-decoration: none;
   }

/* ==========================================================================
   LAYOUT PRIMITIVES / Composition Layer
   ========================================================================== */

   /* Stack
      ========================================================================== */

   .stack {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
   }
   
   .stack > * {
      margin-block: 0;
   } 
   
   .stack > * + * {
      margin-block-start: var(--space, var(--space-s));
   }
   
   .stack-small > * + * {
     margin-block-end: 0.5rem;
   }
   
   .stack-exception,
   .stack-exception + * {
     margin-block: 0;
     margin-block-start: 0;
   }
   
   /* Center
      ========================================================================== */

   .center {
      box-sizing: content-box;
      margin-inline: auto;
      max-inline-size: var(--measure);
   }

   /* Center (Test version)
      ========================================================================== */
      
   /**
   * Note: This is a custom "primitive" that allows me to center the content,
   * but have certain items expand slightly or to the full-width of the container.
   * I have some utility classes to indicate what should expand, and by how much.
   * 
   */

   .center-flexible {
      box-sizing: content-box;
      margin-inline: auto;
   }
   
   .center-flexible > * {
      width: 100%;
      margin-inline: auto;
   }

   /* Cluster
      ========================================================================== */
      
   .cluster {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-s, 1rem);
      justify-content: flex-start;
      align-items: center;
   }
   
   /* Grid
      ========================================================================== */

   .grid {
      display: grid;
      grid-gap: var(--grid-gutter);
      }

   .grid > * {
      margin-block: 0;
      margin-block-start: 0;
   }
      
   @supports (width: min(400px, 100%)) {
      .grid {
         grid-template-columns: repeat(auto-fit, minmax(min(400px, 100%), 1fr));
      }
   }
   
   /* Multicolumn List (Custom)
      ========================================================================== */
   
   .multicolumn-list ol,
   .multicolumn-list ul {
      columns: 2;
      column-gap: 1rem;
   }
      
   .multicolumn-list li {
      column-span: all;
   }
      
   .multicolumn-list li:nth-last-child(n+5), 
   .multicolumn-list li:nth-last-child(n+5) ~ * {
      column-span: none;
   }
   
   /* Multicolumn Grid (Custom)
      ========================================================================== */
   
   .multicolumn-grid {
      columns: 2;
      column-gap: 1rem;
   }
      
   .multicolumn-grid > * {
      column-span: all;
      width: 100%;
   }
   
   .multicolumn-grid > *:nth-last-child(n+6), 
   .multicolumn-grid > *:nth-last-child(n+6) ~ * {
      column-span: none;
   }
         
   /* Switcher
      ========================================================================== */
   
   .switcher {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      /*gap: var(--space-s);*/
   }
   
   .switcher > * {
      flex-grow: 1;
      flex-basis: calc((30rem - 100%) * 999);
   }
   
   
   .switcher > :nth-last-child(n+ 3),
   .switcher > :nth-last-child(n+ 3) ~ * {
      flex-basis: 100%;
   } 
   
   /* Frame
      ========================================================================== */
   
   .frame {
      --n: 16;
      --d: 9;
      aspect-ratio: var(--n) / var(--d);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
   }
    
   .frame > img,
   .frame > video {
      inline-size: 100%;
      block-size: 100%;
      object-fit: cover;
   }
   
   /* Box
      ========================================================================== */
   
   .box {
      padding: var(--space-s);
      border: 0 solid;
      outline: var(--border-thin) solid transparent;
      outline-offset: calc(var(--border-thin) * -1);
   }

   .box * {
      color: inherit;
   }

/* ==========================================================================
   UTILITIES & COMPONENTS
   ========================================================================== */

/* Containers
   ========================================================================== */

   .nav-banner {
      /* Display & Box Model */
      width: 100%;
      max-width: var(--grid-max-width);
      margin-top: var(--space-3xs);
      /* Interior Display */
      display: flex;
      flex-flow: row nowrap;
      justify-content: space-between;
      align-items: center;
      gap: var(--grid-gutter);
      /* Other */
      font-family: var(--font-family-nav);
      font-size: var(--step--2);
   }
   
   .nav-banner-logotype {
      font-family: var(--font-family-logotype);
      font-size: var(--step-0);
      font-weight: bold;
   }
   
   .nav-banner-logotype a {
      color: var(--color-bannernav-logotype);
      text-decoration: none !important;
   }
   
   /* Link Behavior
      ========================================================================== */
   
   /**
    * CSS hover animation inspired by Nate Baldwin. Working implementation drawn
    * from https://www.30secondsofcode.org/css/s/hover-underline-animation.
    * 
    */
   
   .nav-banner-list a:link,
   .nav-banner-list a:visited {
      color: var(--color-bannernav-link);
   }
   
   .nav-banner-list a:hover,
   .nav-banner-list a:active {
      color: var(--color-bannernav-link-hover);
      text-decoration: none;
   }
   
   /* Animated Links
      ========================================================================== */
   
   /**
    * CSS hover animation inspired by Nate Baldwin. Working implementation drawn
    * from https://www.30secondsofcode.org/css/s/hover-underline-animation.
    * 
    */
   
   .link-animate {
      position: relative; /* Makes the pseudo-element work */
      text-decoration: none;
   }
   
   .link-animate::after {
      /* Content */
      content: '';
      /* Positioning & Box Model*/
      position: absolute;
      width: 100%;
      height: 2px;
      bottom: -8px;
      left: 0;
      /* Other */
      background-color: var(--color-bannernav-link-underline);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.25s ease-out;
   }
   
   .link-animate:hover::after {
      transform: scaleX(1);
      transform-origin: left;
   }
   
   .link-animate-selected {
      color: var(--color-bannernav-link-active) !important;
   }
   
   .link-animate-selected::after {
      background-color: var(--color-bannernav-link-underline-active);
      transform: scaleX(1);
   }
   
   /* Accessibility Button
      ========================================================================== */
   
   .nav-banner-accessibilitybutton {
      /* Display */
      display: inline-flex;
      /* Other */
      background-color: transparent;
      color: var(--color-button-text);
      font-family: var(--font-family-nav);
      cursor: pointer;
      /* Positioning & Box Model */
      margin: 0;
      padding: 0;
      border: none;
      @media screen and (-ms-high-contrast: active) {
         border: 2px solid currentcolor;
      }
   }
   
   .nav-banner-accessibilitybutton svg {
      fill: var(--color-bannernav-link);
   }
   
   
/* ==========================================================================
   UTILITY: Width Control
   ========================================================================== */

   .measure-standard {
      max-inline-size: var(--measure-standard);
      max-width: var(--measure-standard);
   }

      .measure-standard > * {
         max-width: var(--measure-standard);
         max-inline-size: var(--measure-standard);
      }

   .measure-wide {
      max-inline-size: var(--measure-wide);
      max-width: var(--measure-wide);
   }

      .measure-wide > * {
         max-width: var(--measure-wide);
         max-inline-size: var(--measure-wide);
      }

   .measure-unlimited {
      max-width: initial;
      max-inline-size: initial;
   }

      .measure-unlimited * {
         max-width: initial;
         max-inline-size: initial;
      }

   /* ==========================================================================
      LAYOUT: Now
      ========================================================================== */
   
   /* Timeline Element for the "Now" Page
      ========================================================================== */
   
   @media screen and (min-width: 600px) {
   
      .section-timeline-element {
         border-left: 1px dashed var(--color-neutral-300);
         padding-left: var(--space-s);
      }
   
      .section-timeline-element::before {
         content: "";
         width: var(--space-2xs);
         height: var(--space-2xs);
         border: 2px solid var(--color-neutral-300);
         background-color: var(--color-body-bg);
         display: block;
         margin-left: calc(-1 * var(--space-s) - (var(--space-2xs)/2));
         position: relative;
         top: 0rem;
         border-radius: 50%;
      }
   }
   
   /* ==========================================================================
      LAYOUT: Index
      ========================================================================== */
   
      /* I can use this class on any page, whether flex or grid, mainly on elements directly nested under "body" (i.e. nav, main, etc) */
      .page-home {
         /* Width & Display */
         max-width: var(--grid-max-width);
         margin-inline: auto;
         /* Internal Grid */
         display: grid;
         gap: var(--grid-gutter);
         grid-template-columns: repeat(var(--grid-columns),1fr);
      }
   
      /* Mobile */
      .page-home__hero { grid-column: 1 / 13; }
      .page-home__work { grid-column: 1 / 13; }
      .page-home__notes { grid-column: 1 / 13; }
   
      /* Desktop */
      @media screen and (min-width: 700px) {
         .page-home__hero { grid-column: 2 / 12; }
         .page-home__work  { grid-column: 2 / 12; }
         .page-home__notes { grid-column: 2 / 12; }
      }
   
      /* Home page hero
         ========================================================================== */
   
      .page-home__hero {
         width: 100%;
         margin-bottom: var(--space-xl);
         display: flex;
         flex-flow: column;
         align-items: flex-start;
         gap: var(--space-3xs);
      }
      
         .page-home__hero h1 {
            font-size: var(--step-5);
            font-family: var(--font-family-headers);
         }
      
         .page-home__hero ul {
            line-height: var(--space-m);
            display: flex;
            flex-flow: row wrap;
            gap: var(--space-3xs);
            font-size: var(--step-2);
            padding-inline-start: 0;
         }
      
         .page-home__hero li {
            display: inline-flex;
         }
      
         .page-home__hero li::after {
            content: '//';
            margin-left: var(--space-3xs);
            color: var(--color-textdecoration);
         }
      
         .page-home__hero li:last-of-type::after {
            content: '';
         }
   
      /* Page section headers
         ========================================================================== */
   
      .page-home__section > header {
         --space: var(--space-3xs);
         margin-bottom: var(--space-xs);
      }
   
         .page-home__section > header h2 {
            font-size: var(--step-0);
            font-weight: bold;
            font-family: var(--font-family-body);
         }
   
      /* Galleries
         ========================================================================== */
   
      .linkcard {
         --space: var(--space-1xs);
         display: inline-block;
         text-decoration: none;
         transition: transform .3s ease-in;
         cursor: pointer;
      }
   
      .linkcard__header {
         font-size: var(--step--1);
      }
   
      .linkcard__description {
         font-size: var(--step--2);
      }
   
      .linkcard:hover {
         transform: scale(1.01);
      }
   
      .linkcard__thumbnail {
         box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
         background-size: cover;
         margin-bottom: var(--space-3xs);
      }
   
      /* Header
         ========================================================================== */
   
   
   /* ==========================================================================
      LAYOUT: Single ("Prose")
      ========================================================================== */
   
   /**
    * The semantic HTML that begins a page could look like a lot of things:
    * - <main><article>
    * - <main>
    * So, to keep things simple, and to give myself the flexibility to apply the
    * "flow" to any page, I am going to use the .flow class to target things.
    * 
    */
   
   
      
      /* Header
         ========================================================================== */
      
      .page-prose > header {
         margin-top: var(--space-xl);
      }
      
      @media screen and (min-width: 800px) {
         .page-prose > header {
            margin-top: var(--space-xl);
            grid-column: 2/11;
         }
      }
      
         .garden-meta-wrapper {
            display: flex;
            flex-flow: row wrap;
            align-items: center;
            gap: var(--space-3xs);
            gap: var(--space-s);
            margin-bottom: var(--space-s);
            font-size: var(--step--1);
            color: var(--color-neutral-700);
            text-transform: capitalize;
         }
      
         .garden-meta-category-wrapper {
            display: flex;
            flex-flow: row wrap;
            align-items: center;
            gap: var(--space-3xs);
         }
      
         .page-prose > header h1 {
            font-family: var(--font-family-headers);
            font-size: var(--step-3);
            font-weight: bold;
            color: var(--color-accent-800);
         }
      
         .garden-deck {
            display: inline-block;
            font-size: var(--step-1);
            color: var(--color-accent-700);
            margin-top: var(--space-2xs);
         }
      
      
      /* Text Shape
         ========================================================================== */
      
      .page-prose > section,
      .page-prose > article {
         margin-bottom: var(--space-s);
      }
      
      @media screen and (min-width: 600px) {
         .page-prose > section,
         .page-prose > article {
            grid-column: 2/9;
         }
      }
      
      @media screen and (min-width: 900px) {
         .page-prose > section,
         .page-prose > article {
            grid-column: 2/9;
         }
      }
   
   /* Note Single
      ========================================================================== */
   
   .note__header {
      max-inline-size: var(--measure-wide);
      padding-bottom: var(--space-xl);
      border-bottom: solid 1px var(--color-textdecoration);
   }
   
   .note__breadcrumb {
      text-transform: capitalize;
   }
   
      .note__breadcrumb a {
         text-decoration: none;
         font-weight: 700;
         transition: all 0.5s;
         display: inline-block;
         position: relative;
      }
   
      .note__breadcrumb a:before {
         content: '«';
         position: absolute;
         opacity: 0;
         top: -1px;
         left: 4px;
         transition: 0.5s;
       }
   
       .note__breadcrumb a:hover{
         padding-left: 1rem;
       }
       
       .note__breadcrumb a:hover:before {
         opacity: 1;
       }
   
   .note__title {
      margin: 0;
      margin-bottom: var(--space-3xs);
      margin-top: var(--space-3xs);
      padding: 0;
   }
   
   .note__deck {
      font-size: var(--step-1);
      color: var(--color-accent-700);
      margin: 0 0 1rem;
      padding: 0;
      text-wrap: balance;
   }
   
   .note__origin {
      font-size: var(--step--1);
   }
   
      .note__origin strong {
         color: var(--color-accent-700);
      }
   
   .callout__assumedAudience {
      font-size: var(--step--2);
      color: var(--color-neutral-900);
      background-color: var(--color-accent-200);
      padding: var(--space-2xs);
      max-inline-size: var(--measure);
   }
   
      .callout__assumedAudience strong {
         color: var(--color-accent-700);
      }  
   
      .callout__assumedAudience strong::after {
         content: ': ';
      }
   
   .footnotes {
      /* Center primitive applied */
      box-sizing: content-box;
      margin-inline: auto;
      max-inline-size: var(--measure);
      /* Other details */
      font-size: var(--step--2);
      /* 
      color: var(--color-neutral-900);
      background-color: var(--color-accent-200);
      padding: var(--space-xs);
      */
   }
   
   .footnotes hr {
      display: inline-block;
      border: 0;
      margin-bottom: var(--space-3xs);
      text-align: start;
   }
   
      .footnotes hr::before {
         content: 'Footnotes';
         font-size: var(--step--1);
         font-weight: bold;
         color: var(--color-accent-800);
      }
   
   .footnotes ol {
      list-style-type: decimal;
      margin-top: 0;
   }
   
      .footnotes li::marker {
         color: var(--color-accent-700);
      }
   
      .footnote-backref {
         text-decoration: none;
      }   